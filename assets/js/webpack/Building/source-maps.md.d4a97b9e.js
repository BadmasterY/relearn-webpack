(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{140:function(e,a,n){"use strict";n.r(a),function(e){n.d(a,"default",(function(){return i}));var t,c=n(85),s=(n(127),n(0),n(86));function p(){return(p=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function o(e,a){if(null==e)return{};var n,t,c=function(e,a){if(null==e)return{};var n,t,c={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(c[n]=e[n]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,r,m=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(s.b)("div",a)}},l=m("MdAlert"),N={};function i(e){var a=e.components,n=o(e,["components"]);return Object(s.b)("wrapper",p({},N,n,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h2",{className:"__internal",id:"source-map"},"Source map",Object(s.b)("a",p({parentName:"h2"},{href:"#source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("img",p({parentName:"p"},{src:"../../build/build_chrom_source_map.webp",alt:"Chrome 中的 Source Map"}))),Object(s.b)("p",null,"当您的源代码经过转换后, 在浏览器中进行调试将成为问题。",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"Source map"))," 通过在原始源代码和转换后的源代码之间提供",Object(s.b)("strong",{parentName:"p"},"映射"),"来解决此问题。除了将源代码编译为 ",Object(s.b)("inlineCode",{parentName:"p"},"JavaScript")," 之外, 这还适用于样式设置。"),Object(s.b)("p",null,"一种方法是在开发过程中跳过 ",Object(s.b)("inlineCode",{parentName:"p"},"Source map"),", 并依靠浏览器对语言功能的支持。如果您使用不带任何扩展的 ",Object(s.b)("inlineCode",{parentName:"p"},"ES2015")," 并使用现代浏览器进行开发, 则可以正常工作。这样做的好处是可以避免与 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 有关的所有问题, 同时可以获得更好的性能。"),Object(s.b)("p",null,"如果您使用的是 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack 4")," 或更高版本以及该 ",Object(s.b)("inlineCode",{parentName:"p"},"mode")," 选项, 该工具将以 ",Object(s.b)("inlineCode",{parentName:"p"},"development")," 模式自动为您生成 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),"。但是, 生产使用需要注意。"),Object(s.b)(l,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},"如果您想更详细地了解 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的思想, 请阅读 ",Object(s.b)("a",p({parentName:"p"},{href:"https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/",target:"_blank"}),"Ryan Seddon 对该主题的介绍"),"。")),Object(s.b)(l,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},"要了解 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 如何处理 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 请参见该工具作者的 ",Object(s.b)("a",p({parentName:"p"},{href:"https://sokra.github.io/source-map-visualization/",target:"_blank"}),"source-map-visualization"),"。")),Object(s.b)("h3",{className:"__internal",id:"内联-source-map-和单独-source-map"},"内联 source map 和单独 source map",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%86%85%E8%81%94-source-map-%E5%92%8C%E5%8D%95%E7%8B%AC-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 可以生成内联或单独的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 文件。内联代码包含在产出的捆绑包中, 由于性能更好, 因此在开发过程中很有价值。单独的文件便于生产使用, 因为加载 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 是可选的。"),Object(s.b)("p",null,"可能不希望为您的产品捆绑包生成 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 因为这使得别人可以毫不费力地检查您的应用程序。通过禁用 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 您正在执行某种混淆处理。"),Object(s.b)("p",null,"无论您是否要为生产模式启用 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 它们都便用于转移。跳过源地图可加快构建速度, 因为以最佳质量生成 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 可能是一项复杂的操作。"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"隐藏的 ",Object(s.b)("inlineCode",{parentName:"strong"},"source map"))," 仅提供堆栈跟踪信息。您可以将它们与监视服务连接起来, 以便在应用程序崩溃时获取跟踪, 从而可以解决有问题的情况。虽然这不是理想的方法, 但知道可能的问题总比不知道要好。"),Object(s.b)("h3",{className:"__internal",id:"启用-source-map"},"启用 source map",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%90%AF%E7%94%A8-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 提供了两种启用 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的方法。有一个 ",Object(s.b)("inlineCode",{parentName:"p"},"devtool")," 快捷方式字段。您还可以找到两个提供更多可调整选项的插件。本章末尾将简要讨论这些插件。除了 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack"),", 还必须在用于开发的浏览器上启用对 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的支持。"),Object(s.b)("h4",{className:"__internal",id:"在-webpack-中启用-source-map"},"在 webpack 中启用 source map",Object(s.b)("a",p({parentName:"h4"},{href:"#%E5%9C%A8-webpack-%E4%B8%AD%E5%90%AF%E7%94%A8-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"首先, 您可以将核心思想包装在 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack.parts.js")," 中。如果需要, 可以将其转换为以后使用插件:"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"webpack.parts.js")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),"exports",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",p({parentName:"code"},{className:"token function-variable function"}),"generateSourceMaps")," ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token parameter"}),Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"{")," type ",Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"}")),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=>")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n    devtool",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," type",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 支持多种 ",Object(s.b)("inlineCode",{parentName:"p"},"source-map")," 类型。这些类型的不同取决于质量和构建速度。现在, 您可以为生产启用 ",Object(s.b)("inlineCode",{parentName:"p"},"source-map"),", 并让 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 使用默认值进行开发。配置如下:"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"webpack.config.js")),Object(s.b)("div",{className:"rcpress-highlight has-highlighted-lines","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token keyword"}),"const")," productionConfig ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",p({parentName:"code"},{className:"token function"}),"merge"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n",Object(s.b)("span",p({parentName:"code"},{className:"rcpress-highlight-code-line"}),"  parts",Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"."),Object(s.b)("span",p({parentName:"span"},{className:"token function"}),"generateSourceMaps"),Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"{")," type",Object(s.b)("span",p({parentName:"span"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"span"},{className:"token string"}),'"source-map"')," ",Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),",")),"  ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"..."),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"..."),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"source-map")," 是所有产品中最慢和最高质量的选择, 但这对于生产版本来说很好。"),Object(s.b)("p",null,"如果您现在构建项目(",Object(s.b)("inlineCode",{parentName:"p"},"npm run build"),"), 则应该在输出中看到源映射:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(s.b)("pre",p({parentName:"div"},{className:"language-bash"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-bash"}),"Hash: 53d2c4e897619ee2a33f\nVersion: webpack ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"4.43"),".0\nTime: 2775ms\nBuilt at: 07/10/2020 ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"2"),":02:04 PM\n       Asset       Size  Chunks                   Chunk Names\n  index.html  ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"237")," bytes          ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"emitted",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),"\n    main.css   ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"8.53")," KiB       ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"0"),"  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"emitted",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),"        main\nmain.css.map   ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"85")," bytes       ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"0"),"  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"emitted",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"dev",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),"  main\n     main.js   ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"1.21")," KiB       ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"0"),"  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"emitted",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),"        main\n main.js.map   ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"5.13")," KiB       ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"0"),"  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"emitted",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"dev",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),"  main\nEntrypoint main ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," main.css main.js main.css.map main.js.map\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),".."),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),".."),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"..")))),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"译者注: 截止至 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack@5.0.0_beta.31"),", 由于 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 无法输出 ",Object(s.b)("inlineCode",{parentName:"p"},".map")," 文件创建信息, 使用书上的例子代替。")),Object(s.b)("p",null,"好好看看那些 ",Object(s.b)("inlineCode",{parentName:"p"},".map")," 文件。这就是生成文件和源文件之间的映射。在开发期间, 它将映射信息写入包中。"),Object(s.b)("h4",{className:"__internal",id:"在浏览器中启用-source-map"},"在浏览器中启用 source map",Object(s.b)("a",p({parentName:"h4"},{href:"#%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E5%90%AF%E7%94%A8-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"要在浏览器中使用 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 必须按照特定于浏览器的说明显式启用源映射:"),Object(s.b)("ul",null,Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("a",p({parentName:"li"},{href:"https://developer.chrome.com/devtools/docs/javascript-debugging",target:"_blank"}),"Chrome")),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("a",p({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map",target:"_blank"}),"FireFox")),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("a",p({parentName:"li"},{href:"https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide/debugger#source-maps",target:"_blank"}),"IE Edge")),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("a",p({parentName:"li"},{href:"https://support.apple.com/guide/safari/use-the-safari-develop-menu-sfri20948/mac",target:"_blank"}),"Safari"))),Object(s.b)(l,p({message:" ",type:"warning"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},"如果您想使用断点(如, ",Object(s.b)("inlineCode",{parentName:"p"},"debugger"),"或多个通过浏览器设置的断点), 基于 ",Object(s.b)("inlineCode",{parentName:"p"},"eval")," 的选项将无法在 ",Object(s.b)("inlineCode",{parentName:"p"},"Chrome")," 中使用!")),Object(s.b)("h3",{className:"__internal",id:"webpack-支持的-source-map-类型"},"webpack 支持的 source map 类型",Object(s.b)("a",p({parentName:"h3"},{href:"#webpack-%E6%94%AF%E6%8C%81%E7%9A%84-source-map-%E7%B1%BB%E5%9E%8B","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 支持的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 类型可以分为两类:"),Object(s.b)("ul",null,Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("strong",{parentName:"li"},"内联")," ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 将映射数据直接添加到生成的文件中。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("strong",{parentName:"li"},"单独")," ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 将映射数据作为单独的 ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 文件产出, 并使用注释将源链接到它们。隐藏的源映射故意省略注释。")),Object(s.b)("p",null,"由于其速度快, 内联 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 非常适合开发。但考虑到它使捆绑包体积变大, 单独的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 是生产的首选解决方案。如果性能开销可以接受, 那么在开发期间也可以使用单独的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),"。"),Object(s.b)("h3",{className:"__internal",id:"内联-source-map-类型"},"内联 source map 类型",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%86%85%E8%81%94-source-map-%E7%B1%BB%E5%9E%8B","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 提供了多个内联 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 类型。通常, 通常 ",Object(s.b)("inlineCode",{parentName:"p"},"eval")," 是起点, 并且 ",Object(s.b)("a",p({parentName:"p"},{href:"https://github.com/webpack/webpack/issues/2145#issuecomment-409029231",target:"_blank"}),"webpack issue#2145")," 建议使用 ",Object(s.b)("inlineCode",{parentName:"p"},"inline-module-source-map"),", 因为它是速度和质量之间的一个很好的折衷方案, 同时在 ",Object(s.b)("inlineCode",{parentName:"p"},"Chrome")," 和 ",Object(s.b)("inlineCode",{parentName:"p"},"Firefox")," 浏览器中可靠工作。"),Object(s.b)("p",null,"为了更好地了解可用选项, 下面列出了这些选项, 同时为每个选项提供了一个小示例。这些示例是通过以下额外的 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 设置生成的:"),Object(s.b)("ul",null,Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},'optimization.moduleIds = "named"')," 旨在提高可读性。如果您正在使用",Object(s.b)("a",p({parentName:"li"},{href:"../Building/code-splitting"}),"代码拆分"),", 那么最好也进行 ",Object(s.b)("inlineCode",{parentName:"li"},"optimization.chunkIds")," 设置。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},"mode")," 设置为 ",Object(s.b)("inlineCode",{parentName:"li"},"false")," 避免 ",Object(s.b)("inlineCode",{parentName:"li"},"webpack")," 的默认处理")),Object(s.b)("h4",{className:"__internal",id:"devtool-eval"},'devtool: "eval"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-eval","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"eval")," 生成代码, 其中每个模块都封装在 ",Object(s.b)("inlineCode",{parentName:"p"},"eval")," 函数中:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"/***/")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"./src/index.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":"),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"/***/")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token keyword"}),"function"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token parameter"}),"module",Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),",")," __webpack_exports__",Object(s.b)("span",p({parentName:"span"},{className:"token punctuation"}),",")," __webpack_require__"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"use strict"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token function"}),"eval"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _main_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\\"./src/main.css\\");\\n/* harmony import */ var _main_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_main_css__WEBPACK_IMPORTED_MODULE_0__);\\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\\"./src/component.js\\");\\n\\n\\ndocument.body.appendChild(Object(_component__WEBPACK_IMPORTED_MODULE_1__[\\"default\\"])());\\n\\n//# sourceURL=webpack:///./src/index.js?"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"/***/")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")))),Object(s.b)("h4",{className:"__internal",id:"devtool-cheap-eval-source-map"},'devtool: "cheap-eval-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-cheap-eval-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"cheap-eval-source-map")," 更进一步, 它包括代码的 ",Object(s.b)("inlineCode",{parentName:"p"},"base64")," 编码版本作为数据 ",Object(s.b)("inlineCode",{parentName:"p"},"url"),"。结果仅包含行数据, 而丢失列映射。如果解码生成的 ",Object(s.b)("inlineCode",{parentName:"p"},"base64")," 字符串, 则会得到以下输出:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"./src/index.js.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js?3700"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"import \'./main.css\';\\nimport component from \\"./component\\";\\ndocument.body.appendChild(component());"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("h4",{className:"__internal",id:"devtool-cheap-module-eval-source-map"},'devtool: "cheap-module-eval-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-cheap-module-eval-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"cheap-module-eval-source-map")," 使用相同的想法, 只是具备更高的质量, 相对的性能更低, 对数据进行解码会揭示更多:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"./src/index.js.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js?b635"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),"\"import './main.css';\\nimport component ...\""),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("p",null,"在这种情况下, 选项之间的差距很小。"),Object(s.b)("h4",{className:"__internal",id:"devtool-eval-source-map"},'devtool: "eval-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-eval-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"eval-source-map")," 是内联选项中质量最高的选项。它也是产出数据最多、性能最低的一个:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js?b635"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"names"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"document"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"body"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"appendChild"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"component"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,0DAAS,EAAnC"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"./src/index.js.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token string"}),"\"import './main.css';\\nimport component ...\""),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("h3",{className:"__internal",id:"单独-source-map-类型"},"单独 source map 类型",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%8D%95%E7%8B%AC-source-map-%E7%B1%BB%E5%9E%8B","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 还可以生成生产环境友好使用的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),"。这些文件最终以 ",Object(s.b)("inlineCode",{parentName:"p"},".map")," 扩展名结尾, 并仅在需要时由浏览器加载。这样, 您的用户就可以获得良好的性能, 同时您也可以更轻松地调试应用程序。"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"source-map")," 在这里是一个合理的默认值。即使用这种方式生成源映射需要更长的时间, 但您可以获得最佳质量。如果您不关心生产环境 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 则可以跳过设置, 从而获得更好的性能。"),Object(s.b)("h4",{className:"__internal",id:"devtool-hidden-source-map"},'devtool: "hidden-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-hidden-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"hidden-source-map")," 与 ",Object(s.b)("inlineCode",{parentName:"p"},"source-map")," 相同, 只是它不将对 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的引用写入源文件。如果您不希望在进行堆栈跟踪时直接将 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 公开给开发工具, 那么这很方便。"),Object(s.b)("h4",{className:"__internal",id:"devtool-nosources-source-map"},'devtool: "nosources-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-nosources-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"nosources-source-map")," 创建一个没有 ",Object(s.b)("inlineCode",{parentName:"p"},"sourcesContent")," 的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),"。但是, 您仍然可以获得堆栈跟踪。如果您不想向客户端公开源代码, 则此选项很有用。"),Object(s.b)(l,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},Object(s.b)("a",p({parentName:"p"},{href:"https://webpack.js.org/configuration/devtool/#devtool",target:"_blank"}),"官方文档"),"包含有关 ",Object(s.b)("inlineCode",{parentName:"p"},"devtool")," 选项的更多信息。")),Object(s.b)("h4",{className:"__internal",id:"devtool-cheap-source-map"},'devtool: "cheap-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-cheap-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"cheap-source-map")," 类似于上面的 ",Object(s.b)("inlineCode",{parentName:"p"},"cheap")," 选项。结果将丢失列映射。另外, 来自加载器(如 ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"cssloader")),")的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 将不会被使用。"),Object(s.b)("p",null,"在本例中, 检查 ",Object(s.b)("inlineCode",{parentName:"p"},".map")," 文件会显示以下输出:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"main.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///webpack/bootstrap"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/component.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/main.css"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"..."'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"// extracted by mini-css-extract-plugin"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'";AAAA;...;;ACFA;;;;A"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("p",null,"源代码在其末尾包含 ",Object(s.b)("mark",null,"//# sourceMappingURL=main.js.map")," 类型的注释以映射到此文件。"),Object(s.b)("h4",{className:"__internal",id:"devtool-cheap-module-source-map"},'devtool: "cheap-module-source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-cheap-module-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"cheap-module-source-map")," 与之前的选项相同, 只是将加载器的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 简化为每行一个映射。在这种情况下, 它将产生以下输出:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"main.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///webpack/bootstrap"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/component.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/main.css"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"..."'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"// extracted by mini-css-extract-plugin"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'";AAAA;...;;ACFA;;;;A"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)(l,p({message:" ",type:"warning"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},"如果启用压缩功能, 则 ",Object(s.b)("inlineCode",{parentName:"p"},"cheap-module-source-map")," 会被破坏。参见 ",Object(s.b)("a",p({parentName:"p"},{href:"https://github.com/webpack/webpack/issues/4176",target:"_blank"}),"webpack issue#4176"),"。")),Object(s.b)("h4",{className:"__internal",id:"devtool-source-map"},'devtool: "source-map"',Object(s.b)("a",p({parentName:"h4"},{href:"#devtool-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"source-map")," 提供了最佳质量和完整的结果, 但它也是最慢的选择。输出反映了这一点:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"version"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token number"}),"3"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sources"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///webpack/bootstrap"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/component.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/index.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///./src/main.css"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"names"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"text"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"element"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"document"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"createElement"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"className"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"innerHTML"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"body"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"appendChild"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"component"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"mappings"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'";AAAA;...;;ACFA;;;;A"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"file"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"main.js"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourcesContent"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"..."'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"// extracted by mini-css-extract-plugin"'),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"sourceRoot"'),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'""'),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}")))),Object(s.b)("h3",{className:"__internal",id:"其他-source-map-选项"},"其他 source map 选项",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%85%B6%E4%BB%96-source-map-%E9%80%89%E9%A1%B9","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"还有一些选项会影响 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的生成:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token keyword"}),"const")," config ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  output",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// Modify the name of the generated source map file."),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// You can use [file], [id], and [hash] replacements here."),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// The default option is enough for most use cases."),"\n    sourceMapFilename",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"[file].map"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// Default"),"\n\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// This is the source map filename template. It's default"),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// format depends on the devtool option used. You don't"),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// need to modify this often."),"\n    devtoolModuleFilenameTemplate",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":"),"\n      ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"webpack:///[resource-path]?[loaders]"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// create-react-app uses the following as it shows up well"),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token comment"}),"// in developer tools"),"\n    ",Object(s.b)("span",p({parentName:"code"},{className:"token function-variable function"}),"devtoolModuleFilenameTemplate"),Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token parameter"}),"info"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")")," ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=>"),"\n      path",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",p({parentName:"code"},{className:"token function"}),"resolve"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),"info",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"."),"absoluteResourcePath",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",p({parentName:"code"},{className:"token function"}),"replace"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token regex"}),"/\\\\/g"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"/"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)(l,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(s.b)("p",{parentName:"MdAlert"},"在",Object(s.b)("a",p({parentName:"p"},{href:"https://webpack.js.org/configuration/output/#output-sourcemapfilename",target:"_blank"}),"官方文档"),"中深入了解 ",Object(s.b)("inlineCode",{parentName:"p"},"output")," 细节。")),Object(s.b)("h3",{className:"__internal",id:"sourcemapdevtoolplugin-和-evalsourcemapdevtoolplugin"},"SourceMapDevToolPlugin 和 EvalSourceMapDevToolPlugin",Object(s.b)("a",p({parentName:"h3"},{href:"#sourcemapdevtoolplugin-%E5%92%8C-evalsourcemapdevtoolplugin","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"如果要对 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 的生成进行更多控制, 可以使用 ",Object(s.b)("a",p({parentName:"p"},{href:"https://webpack.js.org/plugins/source-map-dev-tool-plugin/",target:"_blank"}),"SourceMapDevToolPlugin")," 或 ",Object(s.b)("inlineCode",{parentName:"p"},"EvalSourceMapDevToolPlugin")," 代替。后者是一个比较有限的替代方案, 并且正如其名称所指出的那样, 它对基于 ",Object(s.b)("inlineCode",{parentName:"p"},"eval")," 生成的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 非常方便。"),Object(s.b)("p",null,"这两个插件都可以更精细地控制要为哪些部分的代码生成 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 同时还可以通过 ",Object(s.b)("inlineCode",{parentName:"p"},"SourceMapDevToolPlugin")," 严格控制结果。使用任何一个插件都可以完全跳过该 ",Object(s.b)("inlineCode",{parentName:"p"},"devtool")," 选项。"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 默认情况下仅为 ",Object(s.b)("inlineCode",{parentName:"p"}," .js")," 和 ",Object(s.b)("inlineCode",{parentName:"p"},".css")," 文件匹配 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 您可以用 ",Object(s.b)("inlineCode",{parentName:"p"},"SourceMapDevToolPlugin")," 来解决此问题。这可以通过 ",Object(s.b)("inlineCode",{parentName:"p"},"test")," 模式来实现, 如: ",Object(s.b)("inlineCode",{parentName:"p"},"/\\.(js|jsx|css)($|\\?)/i"),"。"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"EvalSourceMapDevToolPlugin")," 仅接受如上所述的 ",Object(s.b)("inlineCode",{parentName:"p"},"module")," 和 ",Object(s.b)("inlineCode",{parentName:"p"},"lineToLine")," 选项。因此, 可以将其视为 ",Object(s.b)("inlineCode",{parentName:"p"},'devtool: "eval"')," 的别名, 同时支持更高的灵活性。"),Object(s.b)("h3",{className:"__internal",id:"更改-source-map-前缀"},"更改 source map 前缀",Object(s.b)("a",p({parentName:"h3"},{href:"#%E6%9B%B4%E6%94%B9-source-map-%E5%89%8D%E7%BC%80","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"可以在 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 选项的前缀中添加注入 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 引用的 ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"pragma"))," 字符。",Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 默认使用现代浏览器支持的 ",Object(s.b)("inlineCode",{parentName:"p"},"#"),", 因此您不必设置它。"),Object(s.b)("p",null,"要覆盖它, 您必须在 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 选项之前添加前缀(例如 ",Object(s.b)("inlineCode",{parentName:"p"},"@source-map"),")。更改之后, 假设使用了单独的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 类型, 您应该在 ",Object(s.b)("inlineCode",{parentName:"p"},"JavaScript")," 文件中看到 ",Object(s.b)("inlineCode",{parentName:"p"},"//@")," 类型的 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 引用。"),Object(s.b)("h3",{className:"__internal",id:"使用依赖的-source-map"},"使用依赖的 source map",Object(s.b)("a",p({parentName:"h3"},{href:"#%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%E7%9A%84-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"假设您使用的软件包在其发行版中使用了内联 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 则可以使用 ",Object(s.b)("a",p({parentName:"p"},{href:"https://www.npmjs.com/package/source-map-loader",target:"_blank"}),"source-map-loader")," 使 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 处理它们。无需针对软件包进行配置, 您将获得最小的调试输出。通常, 您可以跳过此步骤, 因为这是特例。"),Object(s.b)("h3",{className:"__internal",id:"样式的-source-map"},"样式的 source map",Object(s.b)("a",p({parentName:"h3"},{href:"#%E6%A0%B7%E5%BC%8F%E7%9A%84-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"如果要为样式文件启用 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),", 可以通过启用该 ",Object(s.b)("inlineCode",{parentName:"p"},"sourceMap")," 选项来实现。相同的想法适用于样式加载器, 例如 ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"css-loader")),", ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"sass-loader"))," 和 ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"less-loader")),"。"),Object(s.b)("p",null,"当您在 ",Object(s.b)("inlineCode",{parentName:"p"},"import")," 中使用相对路径时, ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("inlineCode",{parentName:"strong"},"css-loader"))," 存在问题, 这是一个",Object(s.b)("a",p({parentName:"p"},{href:"https://github.com/webpack-contrib/css-loader/issues/232",target:"_blank"}),"已知有问题"),"。要解决此问题, 您应该设置 ",Object(s.b)("inlineCode",{parentName:"p"},"output.publicPath")," 解析服务器 ",Object(s.b)("inlineCode",{parentName:"p"},"URL"),"。"),Object(s.b)("h3",{className:"__internal",id:"后端-source-map"},"后端 source map",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%90%8E%E7%AB%AF-source-map","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"如果按照",Object(s.b)("a",p({parentName:"p"},{href:"../Output/targets"}),'"Targets"'),"一章中讨论的那样将 ",Object(s.b)("inlineCode",{parentName:"p"},"target: node")," 与 ",Object(s.b)("inlineCode",{parentName:"p"},"webpack")," 一起使用, 则仍应生成 ",Object(s.b)("inlineCode",{parentName:"p"},"source map"),"。诀窍是如下配置:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token keyword"}),"const")," config ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  output",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n    devtoolModuleFilenameTemplate",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token string"}),'"[absolute-resource-path]"'),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  plugins",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),"webpack",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"."),Object(s.b)("span",p({parentName:"code"},{className:"token function"}),"SourceMapDevToolPlugin"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("h3",{className:"__internal",id:"忽略与-source-map-有关的警告"},"忽略与 source map 有关的警告",Object(s.b)("a",p({parentName:"h3"},{href:"#%E5%BF%BD%E7%95%A5%E4%B8%8E-source-map-%E6%9C%89%E5%85%B3%E7%9A%84%E8%AD%A6%E5%91%8A","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,"有时, 第三方依赖性会导致浏览器控制台中输出与 ",Object(s.b)("inlineCode",{parentName:"p"},"source map")," 相关的警告。",Object(s.b)("inlineCode",{parentName:"p"},"Webpack")," 允许您按以下方式过滤消息:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",p({parentName:"div"},{className:"language-js"}),Object(s.b)("code",p({parentName:"pre"},{className:"language-js"}),Object(s.b)("span",p({parentName:"code"},{className:"token keyword"}),"const")," config ",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n  stats",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"{"),"\n    warningsFilter",Object(s.b)("span",p({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",p({parentName:"code"},{className:"token regex"}),"/Failed to parse source map/"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",p({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("h3",{className:"__internal",id:"结论"},"结论",Object(s.b)("a",p({parentName:"h3"},{href:"#%E7%BB%93%E8%AE%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"source map")," 在开发过程中可能很方便。它们提供了调试应用程序更优雅的方法, 因为您仍然可以在产出的代码中检查原始代码。它们甚至对于生产版本来说都是有价值的, 并且允许您在提供应用程序的客户端友好版本(",Object(s.b)("inlineCode",{parentName:"p"},"client-friendly version"),")时调试问题。"),Object(s.b)("p",null,"回顾一下:"),Object(s.b)("ul",null,Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},"source map")," 在开发和生产过程中都很有用。它们提供有关正在发生的事情的信息, 并加快调试速度。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},"Webpack")," 支持内联和单独类别中的许多 ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 变体。内联 ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 由于其速度快, 在开发过程中非常方便。单独的 ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 适用于生产版本, 因为是否加载它们是可选的。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},'devtool: "source-map"')," 是对生产版本有价值的最高质量选项。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},"inline-module-source-map")," 是一个很好的开发起点。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),"使用 ",Object(s.b)("inlineCode",{parentName:"li"},'devtool: "hidden-source-map"')," 在生产过程中获取堆栈跟踪, 并将其发送给第三方服务, 供您稍后检查和修复。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(s.b)("inlineCode",{parentName:"li"},"SourceMapDevToolPlugin")," 和 ",Object(s.b)("inlineCode",{parentName:"li"},"EvalSourceMapDevToolPlugin")," 相比 ",Object(s.b)("inlineCode",{parentName:"li"},"devtool")," 配置, 提供了更多的对结果的控制。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),"您应该将 ",Object(s.b)("strong",{parentName:"li"},Object(s.b)("inlineCode",{parentName:"strong"},"source-map-loader"))," 与第三方依赖一起使用。"),Object(s.b)("li",p({parentName:"ul"},{className:"__internal"}),"为样式启用 ",Object(s.b)("inlineCode",{parentName:"li"},"source map")," 需要额外的配置工作。您必须为所使用的与样式相关的加载器启用 ",Object(s.b)("inlineCode",{parentName:"li"},"sourceMap")," 选项。")),Object(s.b)("p",null,"在下一章中, 您将学习代码拆分的技巧。"))}i.isMDXComponent=!0,i=Object(c.hot)(e)(i),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(m,"makeShortcode","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Building/source-maps.md"),b.register(l,"MdAlert","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Building/source-maps.md"),b.register(N,"layoutProps","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Building/source-maps.md"),b.register("wrapper","MDXLayout","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Building/source-maps.md"),b.register(i,"MDXContent","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Building/source-maps.md")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}.call(this,n(21)(e))}}]);