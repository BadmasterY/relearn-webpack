(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{137:function(e,a,t){"use strict";t.r(a),function(e){t.d(a,"default",(function(){return m}));var r,n=t(86),b=(t(127),t(0),t(87));function l(){return(l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function c(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},b=Object.keys(e);for(r=0;r<b.length;r++)t=b[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(r=0;r<b.length;r++)t=b[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,p,i=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(b.b)("div",a)}},s=i("MdAlert"),d={};function m(e){var a=e.components,t=c(e,["components"]);return Object(b.b)("wrapper",l({},d,t,{components:a,mdxType:"MDXLayout"}),Object(b.b)("h2",{className:"__internal",id:"故障排除"},"故障排除",Object(b.b)("a",l({parentName:"h2"},{href:"#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,"使用 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 过程中可能会产生各种运行时警告或错误。通常, 构建的某个特定部分由于某种原因而失败。可以通过以下流程来解决这些问题:"),Object(b.b)("ol",null,Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"将 ",Object(b.b)("mark",null,"--display-error-details")," 标志传递给 ",Object(b.b)("inlineCode",{parentName:"li"},"webpack")," 以获得更准确的错误信息来定位错误。如: ",Object(b.b)("mark",null,"npm run build -- --display-error-details"),"。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"仔细研究错误发生在哪里。有时您可以推断出上下文有什么问题。如果 ",Object(b.b)("inlineCode",{parentName:"li"},"webpack")," 无法解析模块, 则可能不会将其传递给您期望的加载器。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"尝试了解错误的根源。它来自您的代码, 依赖项还是 ",Object(b.b)("inlineCode",{parentName:"li"},"webpack"),"?"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"删除代码, 直到错误消失, 然后再添加代码, 直到再次出现。尽可能简化以发现问题。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"如果代码在另一个项目中正常工作, 请找出有什么不同。项目之间的依赖关系可能会有所不同, 或者设置会有所不同。在最坏的情况下, 您所依赖的程序包可能会回退。因此, 使用 ",Object(b.b)("mark",null,"lockfile")," 是个好主意。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"仔细研究相关软件包。有时仔细研究一下 ",Object(b.b)("mark",null,"package.json")," 可以获得一些见解。您使用的软件包可能无法按预期方式解析。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"在线搜索错误。也许有人曾经遇到过。 ",Object(b.b)("a",l({parentName:"li"},{href:"https://stackoverflow.com/questions/tagged/webpack",target:"_blank"}),"Stack Overflow")," 和",Object(b.b)("a",l({parentName:"li"},{href:"https://github.com/webpack/webpack/issues",target:"_blank"}),"官方问题跟踪器"),"是不错的选择。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"启用 ",Object(b.b)("mark",null,'stats: "verbose"')," 可从 ",Object(b.b)("inlineCode",{parentName:"li"},"webpack")," 中获取更多信息。在",Object(b.b)("a",l({parentName:"li"},{href:"https://webpack.js.org/configuration/stats/",target:"_blank"}),"官方文档介绍更多的标志"),"。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"在错误附近添加一个临时 ",Object(b.b)("mark",null,"console.log"),", 以便更深入地了解问题。更好的选择是",Object(b.b)("a",l({parentName:"li"},{href:"https://medium.com/webpack/webpack-bits-learn-and-debug-webpack-with-chrome-dev-tools-da1c5b19554",target:"_blank"}),"通过 Chrome Dev Tools 调试 webpack"),"。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"在 ",Object(b.b)("a",l({parentName:"li"},{href:"https://stackoverflow.com/questions/tagged/webpack",target:"_blank"}),"Stack Overflow")," 上提问或使用",Object(b.b)("a",l({parentName:"li"},{href:"https://gitter.im/webpack/webpack",target:"_blank"}),"官方的 Gitter 频道"),"。"),Object(b.b)("li",l({parentName:"ol"},{className:"__internal"}),"如果这一切依旧无法解决问题, 并且您确信自己已找到错误, 请在",Object(b.b)("a",l({parentName:"li"},{href:"https://github.com/webpack/webpack/issues",target:"_blank"}),"官方问题跟踪器"),"或其他适当的位置报告问题(如果它是从属关系中的问题)。请仔细遵循问题模板, 并提供一个最小的可运行示例, 因为它有助于解决问题。")),Object(b.b)("p",null,"将错误放到搜索引擎中或许是获得答案的最快方式。除此之外, 还有一个很好用的调试命令。如果您的配置在过去有效, 则还可以考虑使用 ",Object(b.b)("a",l({parentName:"p"},{href:"https://git-scm.com/docs/git-bisect",target:"_blank"}),"git-bisect")," 之类的工具来找出已知工作状态(过去)和当前故障状态(当前)之间的变化。"),Object(b.b)("p",null,"接下来, 您将了解最常见的错误以及如何处理它们。"),Object(b.b)("h3",{className:"__internal",id:"入口文件未找到"},"入口文件未找到",Object(b.b)("a",l({parentName:"h3"},{href:"#%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6%E6%9C%AA%E6%89%BE%E5%88%B0","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"Entry module not found")),Object(b.b)("p",null,"如果将入口路径指向一个不存在的位置, 则可能会出现此错误。错误消息告诉您 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 找不到该路径。"),Object(b.b)("h3",{className:"__internal",id:"模块未找到"},"模块未找到",Object(b.b)("a",l({parentName:"h3"},{href:"#%E6%A8%A1%E5%9D%97%E6%9C%AA%E6%89%BE%E5%88%B0","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"... Module not found")),Object(b.b)("p",null,"您可以通过两种方式产出此错误。通过修改加载器定义使其指向不存在的加载器, 或者修改代码中的导入路径以使其指向不存在的模块。该消息指出了要解决的问题。"),Object(b.b)("h3",{className:"__internal",id:"模块解析失败"},"模块解析失败",Object(b.b)("a",l({parentName:"h3"},{href:"#%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90%E5%A4%B1%E8%B4%A5","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"Module parse failed")),Object(b.b)("p",null,"即使 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 可以很好地解析您的模块, 它仍然可能无法构建它们。如果您使用的是加载器无法理解的语法, 则可能发生这种情况。您在处理过程中可能遗漏了一些东西。"),Object(b.b)("h3",{className:"__internal",id:"找不到加载器"},"找不到加载器",Object(b.b)("a",l({parentName:"h3"},{href:"#%E6%89%BE%E4%B8%8D%E5%88%B0%E5%8A%A0%E8%BD%BD%E5%99%A8","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"Loader Not Found")),Object(b.b)("p",null,"还有另一个与加载器有关的细微错误。如果存在与未实现加载器接口的加载程序名称匹配的软件包, 则 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 与此匹配, 并给出运行时错误, 指出该软件包不是加载器。"),Object(b.b)("p",null,"如果您配置 ",Object(b.b)("mark",null,'loader: "eslint"')," 而不是 ",Object(b.b)("mark",null,'loader: "eslint-loader"'),", 则会收到此错误。如果该软件包根本不存在, 则将引发错误 ",Object(b.b)("mark",null,"Module not found"),"。"),Object(b.b)("h3",{className:"__internal",id:"模块构建失败-unkonw-word"},"模块构建失败: Unkonw word",Object(b.b)("a",l({parentName:"h3"},{href:"#%E6%A8%A1%E5%9D%97%E6%9E%84%E5%BB%BA%E5%A4%B1%E8%B4%A5-unkonw-word","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"Module build failed: Unknown word")),Object(b.b)("p",null,"此错误属于同一类别。解析文件成功, 但是语法未知。问题很可能是拼写错误, 但是当 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 通过导入并遇到了无法理解的语法时, 也会发生此错误。这很可能意味着该特定文件类型缺少加载器。"),Object(b.b)("h3",{className:"__internal",id:"语法错误-意外的标记"},"语法错误: 意外的标记",Object(b.b)("a",l({parentName:"h3"},{href:"#%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF-%E6%84%8F%E5%A4%96%E7%9A%84%E6%A0%87%E8%AE%B0","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"SyntaxError: Unexpected token")),Object(b.b)("p",null,"同一类别的另一个错误: ",Object(b.b)("mark",null,"SyntaxError"),"。如果您使用未随 ",Object(b.b)("inlineCode",{parentName:"p"},"terser")," 一起转译的 ",Object(b.b)("inlineCode",{parentName:"p"},"ES2015")," 语法, 则可能发生此错误。由于遇到无法识别的语法构造, 因此会引发错误。"),Object(b.b)("h3",{className:"__internal",id:"弃用警告"},"弃用警告",Object(b.b)("a",l({parentName:"h3"},{href:"#%E5%BC%83%E7%94%A8%E8%AD%A6%E5%91%8A","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)(s,l({message:" ",type:"error"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"DeprecationWarning")),Object(b.b)("p",null,"在 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 更新到新的主要版本后, Node可能会给出的特别提示: ",Object(b.b)("mark",null,"DeprecationWarning"),"。您使用的插件或加载程序可能需要更新。通常, 所需的更改很小。要弄清楚警告的来源, 请通过 ",Object(b.b)("inlineCode",{parentName:"p"},"node")," 运行 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack"),": ",Object(b.b)("mark",null,"node --trace-deprecation node_modules/.bin/wp --mode production"),"。"),Object(b.b)("p",null,"将 ",Object(b.b)("mark",null,"--trace-deprecation")," 标志传递给 ",Object(b.b)("inlineCode",{parentName:"p"},"node")," 以查看警告的来源很重要。使用 ",Object(b.b)("mark",null,"--trace-warnings")," 是另一种方式, 它将捕获所有警告(不仅是弃用)的跟踪信息。"),Object(b.b)("h3",{className:"__internal",id:"结论"},"结论",Object(b.b)("a",l({parentName:"h3"},{href:"#%E7%BB%93%E8%AE%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,"这些仅是错误的示例。特定错误发生在 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 中, 但其余错误来自它通过加载器和插件使用的软件包。简化项目是一个很好的做法, 因为这样可以更轻松地了解错误发生的位置。"),Object(b.b)("p",null,"在大多数情况下, 如果您知道要查找的位置, 就可以快速解决这些错误, 但在最坏的情况下, 您会遇到一个错误, 需要在工具中进行修复。在这种情况下, 您应该为项目提供高质量的报告, 并帮助解决它。"))}m.isMDXComponent=!0,m=Object(n.hot)(e)(m),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(i,"makeShortcode","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Appendices/troubleshooting.md"),o.register(s,"MdAlert","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Appendices/troubleshooting.md"),o.register(d,"layoutProps","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Appendices/troubleshooting.md"),o.register("wrapper","MDXLayout","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Appendices/troubleshooting.md"),o.register(m,"MDXContent","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Appendices/troubleshooting.md")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}.call(this,t(21)(e))}}]);