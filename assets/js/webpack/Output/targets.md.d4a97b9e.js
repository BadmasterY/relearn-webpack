(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{162:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"default",(function(){return s}));var n,r=a(85),b=(a(127),a(0),a(86));function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},b=Object.keys(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,c,l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(b.b)("div",t)}},d=l("MdAlert"),m={};function s(e){var t=e.components,a=i(e,["components"]);return Object(b.b)("wrapper",p({},m,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{className:"__internal",id:"targets"},"Targets",Object(b.b)("a",p({parentName:"h2"},{href:"#targets","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,"尽管 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 最常用于打包 ",Object(b.b)("inlineCode",{parentName:"p"},"web")," 应用程序, 但它还可以用于其他用途。您可以将其用于 ",Object(b.b)("inlineCode",{parentName:"p"},"Node")," 或桌面环境, 如 ",Object(b.b)("inlineCode",{parentName:"p"},"Electron"),"。",Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 还可以通过编写适当的输出包装器, 将源码打包为一个库, 从而可以直接使用该库。"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 的输出目标由 ",Object(b.b)("inlineCode",{parentName:"p"},"target")," 字段控制。接下来, 您将了解主要目标, 然后深入研究特定于库的选项。"),Object(b.b)("h3",{className:"__internal",id:"web"},"Web",Object(b.b)("a",p({parentName:"h3"},{href:"#web","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 默认使用 ",Object(b.b)("inlineCode",{parentName:"p"},"web")," 作为目标。对于象您在本书中开发的那些 ",Object(b.b)("inlineCode",{parentName:"p"},"web")," 应用程序, 该目标非常理想。",Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 引导应用程序并加载其模块。清单中将维护要加载的模块的初始列表, 然后模块可以按照定义相互加载。"),Object(b.b)("h3",{className:"__internal",id:"web-worker"},"Web Worker",Object(b.b)("a",p({parentName:"h3"},{href:"#web-worker","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,"该 ",Object(b.b)("inlineCode",{parentName:"p"},"webworker")," 目标将应用打包为一个 ",Object(b.b)("a",p({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank"}),"Web Worker"),"。如果要在应用程序主线程之外执行计算而不会阻塞用户界面, 则使用 ",Object(b.b)("inlineCode",{parentName:"p"},"Web Worker")," 很有用。您应该注意一些限制:"),Object(b.b)("ul",null,Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),"使用 ",Object(b.b)("inlineCode",{parentName:"li"},"webworker")," 目标时, 不能使用 ",Object(b.b)("inlineCode",{parentName:"li"},"webpack")," 的哈希功能。"),Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),"您无法通过 ",Object(b.b)("inlineCode",{parentName:"li"},"Web Worker")," 操作 ",Object(b.b)("inlineCode",{parentName:"li"},"DOM"),"。如果将当前项目打包为 ",Object(b.b)("inlineCode",{parentName:"li"},"Web Worker"),", 则该项目不会显示任何内容。")),Object(b.b)(d,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},Object(b.b)("a",p({parentName:"p"},{href:"../Techniques/web-workers"}),'"Web Worker"')," 一章中详细讨论了 ",Object(b.b)("inlineCode",{parentName:"p"},"Web Worker")," 及其用法。")),Object(b.b)("h3",{className:"__internal",id:"node"},"Node",Object(b.b)("a",p({parentName:"h3"},{href:"#node","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 提供了两个特定于 ",Object(b.b)("inlineCode",{parentName:"p"},"Node")," 的目标: ",Object(b.b)("inlineCode",{parentName:"p"},"node")," 和 ",Object(b.b)("inlineCode",{parentName:"p"},"async-node"),"。除非使用 ",Object(b.b)("inlineCode",{parentName:"p"},"async-node")," 作为构建目标, 否则它将使用标准的 ",Object(b.b)("inlineCode",{parentName:"p"},"Node")," 的 ",Object(b.b)("inlineCode",{parentName:"p"},"require")," 来加载模块。在 ",Object(b.b)("inlineCode",{parentName:"p"},"async-node")," 这种情况下, 它将包装模块, 以便通过 ",Object(b.b)("inlineCode",{parentName:"p"},"Node")," 的 ",Object(b.b)("inlineCode",{parentName:"p"},"fs")," 和 ",Object(b.b)("inlineCode",{parentName:"p"},"vm")," 模块异步加载它们。"),Object(b.b)("p",null,"使用 ",Object(b.b)("inlineCode",{parentName:"p"},"node")," 目标的主要用例是",Object(b.b)("a",p({parentName:"p"},{href:"../Output/server-side-rendering"}),'"服务器端渲染"'),"(",Object(b.b)("strong",{parentName:"p"},Object(b.b)("inlineCode",{parentName:"strong"},"SSR")),")。"),Object(b.b)(d,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"要了解有关该主题的更多信息, 请阅读 James Long 的有关使用 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 开发后端应用程序的",Object(b.b)("a",p({parentName:"p"},{href:"https://jlongster.com/Backend-Apps-with-Webpack--Part-I",target:"_blank"}),"系列文章"),"。")),Object(b.b)(d,p({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(b.b)("p",{parentName:"MdAlert"},"如果您使用 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 开发服务器, 请参阅 ",Object(b.b)("a",p({parentName:"p"},{href:"https://www.npmjs.com/package/nodemon-webpack-plugin",target:"_blank"}),"nodemon-webpack-plugin"),"。该插件无需设置外部观察程序即可重新启动服务器进程。")),Object(b.b)("h3",{className:"__internal",id:"desktop"},"Desktop",Object(b.b)("a",p({parentName:"h3"},{href:"#desktop","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,"有一些桌面应用开发工具, 如 ",Object(b.b)("a",p({parentName:"p"},{href:"https://nwjs.io/",target:"_blank"}),"NW.js"),"(以前是 ",Object(b.b)("inlineCode",{parentName:"p"},"node-webkit"),") 和 ",Object(b.b)("a",p({parentName:"p"},{href:"https://electron.atom.io/",target:"_blank"}),"Electron"),"(以前是 ",Object(b.b)("inlineCode",{parentName:"p"},"Atom"),")。 ",Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 可以针对以下目标:"),Object(b.b)("ul",null,Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(b.b)("inlineCode",{parentName:"li"},"node-webkit"),": 定位为 ",Object(b.b)("inlineCode",{parentName:"li"},"NW.js"),", 同时将其视为实验性的。"),Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(b.b)("inlineCode",{parentName:"li"},"atom"),", ",Object(b.b)("inlineCode",{parentName:"li"},"electron"),", ",Object(b.b)("inlineCode",{parentName:"li"},"electron-main"),": 目标 ",Object(b.b)("a",p({parentName:"li"},{href:"https://github.com/electron/electron/blob/master/docs/tutorial/quick-start.md",target:"_blank"}),"Electron main process"),"。"),Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(b.b)("inlineCode",{parentName:"li"},"electron-renderer"),": 目标 ",Object(b.b)("inlineCode",{parentName:"li"},"Electron")," 渲染进程。")),Object(b.b)("p",null,"如果希望为 ",Object(b.b)("inlineCode",{parentName:"p"},"Electron")," 和 ",Object(b.b)("inlineCode",{parentName:"p"},"React")," 的开发提供 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 热加载, 那么 ",Object(b.b)("a",p({parentName:"p"},{href:"https://github.com/electron-react-boilerplate/electron-react-boilerplate",target:"_blank"}),"electron-react-boilerplate")," 是一个很好的选择。使用 ",Object(b.b)("a",p({parentName:"p"},{href:"https://github.com/electron/electron-quick-start",target:"_blank"}),"electron-quick-start")," 也是一种可选的方案。"),Object(b.b)("h3",{className:"__internal",id:"构建目标"},"构建目标",Object(b.b)("a",p({parentName:"h3"},{href:"#%E6%9E%84%E5%BB%BA%E7%9B%AE%E6%A0%87","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 通常用于通过返回配置对象, ",Object(b.b)("inlineCode",{parentName:"p"},"Promise")," 解析为一个对象或函数返回一个对象来编译单个目标。此外, 它允许您一次指定多个目标, 以防您返回配置数组。在生成",Object(b.b)("a",p({parentName:"p"},{href:"../Output/multiple-pages"}),"多页"),"或使用",Object(b.b)("a",p({parentName:"p"},{href:"../Techniques/i18n"}),"国际化"),"时, 该技术很有用。",Object(b.b)("a",p({parentName:"p"},{href:"https://www.npmjs.com/package/parallel-webpack",target:"_blank"}),"parallel-webpack")," 能够并行运行多个 ",Object(b.b)("inlineCode",{parentName:"p"},"webpack")," 实例, 以加快这种使用速度。"),Object(b.b)("h3",{className:"__internal",id:"结论"},"结论",Object(b.b)("a",p({parentName:"h3"},{href:"#%E7%BB%93%E8%AE%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Webpack")," 支持 ",Object(b.b)("inlineCode",{parentName:"p"},'"web"')," 之外的目标。基于此, 您可以说 ",Object(b.b)("inlineCode",{parentName:"p"},'"webpack"')," 是一种考虑其功能的保守说法。"),Object(b.b)("p",null,"回顾一下:"),Object(b.b)("ul",null,Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(b.b)("inlineCode",{parentName:"li"},"Webpack")," 的输出目标可以通过 ",Object(b.b)("inlineCode",{parentName:"li"},"target")," 进行控制。它默认为 ",Object(b.b)("inlineCode",{parentName:"li"},"web"),", 但也接受其他选项。"),Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),Object(b.b)("inlineCode",{parentName:"li"},"Webpack")," 除了其 ",Object(b.b)("inlineCode",{parentName:"li"},"web")," 目标之外, 还可以定位桌面, ",Object(b.b)("inlineCode",{parentName:"li"},"Node")," 和 ",Object(b.b)("inlineCode",{parentName:"li"},"Web Worker"),"。"),Object(b.b)("li",p({parentName:"ul"},{className:"__internal"}),"如果在",Object(b.b)("a",p({parentName:"li"},{href:"../Output/server-side-rendering"}),"服务器端渲染"),"设置中, 则 ",Object(b.b)("inlineCode",{parentName:"li"},"node")," 目标非常有用。")),Object(b.b)("p",null,"在下一章中, 您将学习如何处理多页设置。"))}s.isMDXComponent=!0,s=Object(r.hot)(e)(s),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(l,"makeShortcode","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Output/targets.md"),o.register(d,"MdAlert","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Output/targets.md"),o.register(m,"layoutProps","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Output/targets.md"),o.register("wrapper","MDXLayout","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Output/targets.md"),o.register(s,"MDXContent","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Output/targets.md")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}.call(this,a(21)(e))}}]);