(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{145:function(e,a,t){"use strict";t.r(a),function(e){t.d(a,"default",(function(){return d}));var n,c=t(86),p=(t(127),t(0),t(87));function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function b(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},p=Object.keys(e);for(n=0;n<p.length;n++)t=p[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)t=p[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,s,l=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.b)("div",a)}},m=l("MdAlert"),i={};function d(e){var a=e.components,t=b(e,["components"]);return Object(p.b)("wrapper",o({},i,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h2",{className:"__internal",id:"加载-javascript"},"加载 JavaScript",Object(p.b)("a",o({parentName:"h2"},{href:"#%E5%8A%A0%E8%BD%BD-javascript","aria-hidden":!0,className:"anchor"}),"#")),Object(p.b)("p",null,Object(p.b)("inlineCode",{parentName:"p"},"Webpack")," 默认处理 ",Object(p.b)("inlineCode",{parentName:"p"},"ES2015")," 模块定义并将其转换为代码。但是它",Object(p.b)("strong",{parentName:"p"},"不会"),"转换特定的语法, 比如 ",Object(p.b)("inlineCode",{parentName:"p"},"const"),"。生成的代码可能会有问题, 尤其是在老版本浏览器中。"),Object(p.b)("p",null,"为了更好地了解默认转换, 请考虑下面的示例输出(",Object(p.b)("inlineCode",{parentName:"p"},"npm run build--mode none"),"):"),Object(p.b)("p",null,Object(p.b)("strong",{parentName:"p"},"dist/main.js")),Object(p.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(p.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(p.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"..."),Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"..."),"\n",Object(p.b)("span",o({parentName:"code"},{className:"token comment"}),"/***/")," ",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(p.b)("span",o({parentName:"code"},{className:"token keyword"}),"function"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(p.b)("span",o({parentName:"code"},{className:"token parameter"}),"module",Object(p.b)("span",o({parentName:"span"},{className:"token punctuation"}),",")," __webpack_exports__",Object(p.b)("span",o({parentName:"span"},{className:"token punctuation"}),",")," __webpack_require__"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n",Object(p.b)("span",o({parentName:"code"},{className:"token string"}),'"use strict"'),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n__webpack_require__",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(p.b)("span",o({parentName:"code"},{className:"token function"}),"r"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"__webpack_exports__",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(p.b)("span",o({parentName:"code"},{className:"token comment"}),"/* harmony default export */")," __webpack_exports__",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"["),Object(p.b)("span",o({parentName:"code"},{className:"token string"}),'"default"'),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"text ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(p.b)("span",o({parentName:"code"},{className:"token string"}),'"Hello world"'),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=>")," ",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",o({parentName:"code"},{className:"token keyword"}),"const")," element ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," document",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(p.b)("span",o({parentName:"code"},{className:"token function"}),"createElement"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(p.b)("span",o({parentName:"code"},{className:"token string"}),'"div"'),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  element",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"className ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(p.b)("span",o({parentName:"code"},{className:"token string"}),'"rounded bg-red-100 border max-w-md m-4 p-4"'),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  element",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"innerHTML ",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," text",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(p.b)("span",o({parentName:"code"},{className:"token keyword"}),"return")," element",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),")"),Object(p.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"..."),Object(p.b)("span",o({parentName:"code"},{className:"token operator"}),"...")))),Object(p.b)("p",null,"这个问题可以通过 ",Object(p.b)("a",o({parentName:"p"},{href:"https://babeljs.io/",target:"_blank"}),"Babel")," 来解决, ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 是一个著名的 ",Object(p.b)("inlineCode",{parentName:"p"},"JavaScript")," 编译器, 支持 ",Object(p.b)("inlineCode",{parentName:"p"},"ES2015+")," 等功能。它类似于 ",Object(p.b)("inlineCode",{parentName:"p"},"ESLint"),", 因为它构建在预设和插件之上。预设是插件的集合, 您也可以定义自己的插件。"),Object(p.b)(m,o({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(p.b)("p",{parentName:"MdAlert"},Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 不是唯一的选择, 尽管它是最受欢迎的选择。如果您不需要任何特定的 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 预设或插件, 则可以选择 ",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/esbuild-loader",target:"_blank"}),"esbuild-loader"),", ",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/swc-loader",target:"_blank"}),"swc-loader")," 和 ",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/@sucrase/webpack-loader",target:"_blank"}),"@sucrase/webpack-loader"),"。")),Object(p.b)(m,o({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(p.b)("p",{parentName:"MdAlert"},"鉴于有时扩展现有预设是不够的, ",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/modify-babel-preset",target:"_blank"}),"modify-babel-preset")," 允许您更进一步, 以更灵活的方式配置基本预设。")),Object(p.b)("h3",{className:"__internal",id:"在-webpack-配置中使用-babel"},"在 webpack 配置中使用 Babel",Object(p.b)("a",o({parentName:"h3"},{href:"#%E5%9C%A8-webpack-%E9%85%8D%E7%BD%AE%E4%B8%AD%E4%BD%BF%E7%94%A8-babel","aria-hidden":!0,className:"anchor"}),"#")),Object(p.b)("p",null,"即使 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 可以独立使用, 如 ",Object(p.b)("em",{parentName:"p"},"SurviveJS-Maintenance")," 一书中所见, 您也可以将其与 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack")," 一起使用。在开发过程中, 如果您使用浏览器支持的语言功能, 则可以跳过处理。"),Object(p.b)("p",null,"在您不依赖任何自定义语言功能并使用现代浏览器的情况下, 跳过处理是一个不错的选择。但是, 在编译生产代码时, 几乎必须通过 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 进行处理。"),Object(p.b)("p",null,"您可以通过 ",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/babel-loader",target:"_blank"}),"babel-loader")," 将 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 与 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack")," 一起使用。它可以选择项目级别的 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 配置, 也可以在 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack")," 加载器本身进行配置。",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/babel-webpack-plugin",target:"_blank"}),"babel-webpack-plugin")," 是另一个鲜为人知的选项。"),Object(p.b)("p",null,"通过将 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 与项目连接, 您可以通过它处理 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack")," 配置。为此, 请使用 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack.config.babel.js")," 约定为您的 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack")," 配置命名。",Object(p.b)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/interpret",target:"_blank"}),"interpret")," 包启用了此功能, 并且还支持其他编译器。"),Object(p.b)(m,o({message:" ",type:"info"},{mdxType:"MdAlert"}),Object(p.b)("p",{parentName:"MdAlert"},"鉴于 ",Object(p.b)("a",o({parentName:"p"},{href:"http://node.green/",target:"_blank"}),"Node 目前已经很好地支持 ES2015 规范"),", 您可以使用很多 ",Object(p.b)("inlineCode",{parentName:"p"},"ES2015")," 功能, 而无需通过 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 处理。")),Object(p.b)(m,o({message:" ",type:"warning"},{mdxType:"MdAlert"}),Object(p.b)("p",{parentName:"MdAlert"},"如果使用 ",Object(p.b)("inlineCode",{parentName:"p"},"webpack.config.babel.js"),", 请注意 ",Object(p.b)("inlineCode",{parentName:"p"},'"modules": false,')," 配置。如果要使用 ",Object(p.b)("inlineCode",{parentName:"p"},"ES2015")," 模块, 则可以跳过全局 ",Object(p.b)("inlineCode",{parentName:"p"},"Babel")," 配置中的设置, 然后按环境进行配置, 如下所述。")),Object(p.b)("h3",{className:"__internal",id:"配置-babel-loader"},"配置 babel-loader",Object(p.b)("a",o({parentName:"h3"},{href:"#%E9%85%8D%E7%BD%AE-babel-loader","aria-hidden":!0,className:"anchor"}),"#")))}d.isMDXComponent=!0,d=Object(c.hot)(e)(d),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(l,"makeShortcode","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Loading/javascript.md"),r.register(m,"MdAlert","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Loading/javascript.md"),r.register(i,"layoutProps","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Loading/javascript.md"),r.register("wrapper","MDXLayout","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Loading/javascript.md"),r.register(d,"MDXContent","/Users/yuzhoujie/Desktop/work/webpack-book-china/docs/webpack/Loading/javascript.md")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}.call(this,t(21)(e))}}]);